{
  "consul": {
    "enabled": true,
    "url": "http://consul:8500"
  },
  "fabio": {
    "enabled": true,
    "url": "http://fabio:9999"
  },
  "logger": {
    "seq": {
      "enabled": true,
      "url": "http://seq:5341"
    }
  },
  "monitoring": {
    "jaeger": "jaeger"
  },
  "jaeger": {
    "enabled": true,
    "udpHost": "jaeger",
    "serviceName": "api-gateway"
  },
  "metrics": {
    "enabled": true,
    "influxEnabled": true,
    "prometheusEnabled": true,
    "influxUrl": "http://influxdb:8086"
  },
  "prometheus": {
    "enabled": true
  },
  "mongodb": {
    "connectionString": "mongodb://mongodb:27017"
  },
  "redis": {
    "connectionString": "redis"
  },
  "messaging": {
    "enabled": true,
    "endpoints": [
      {
        "method": "post",
        "path": "stories-service/stories/async",
        "exchange": "stories",
        "routingKey": "send_story"
      },
      {
        "method": "post",
        "path": "stories-service/stories/{storyId}/rate/async",
        "exchange": "stories",
        "routingKey": "rate_story"
      }
    ]
  },
  "reverseProxy": {
    "routes": {
      "identity-route": {
        "clusterId": "identity-cluster",
        "match": {
          "Path": "identity-service/{**catchall}"
        },
        "transforms": [
          {
            "pathPattern": "{**catchall}"
          }
        ]
      },
      "product-route": {
        "clusterId": "product-cluster",
        "match": {
          "Path": "products-service/{**catchall}"
        },
        "transforms": [
          {
            "pathPattern": "{**catchall}"
          }
        ]
      },
      "order-route": {
        "clusterId": "order-cluster",
        "match": {
          "Path": "orders-service/{**catchall}"
        },
        "transforms": [
          {
            "pathPattern": "{**catchall}"
          }
        ]
      },
      "signalr-route": {
        "clusterId": "signalr-cluster",
        "match": {
          "Path": "signalr-service/{**catchall}"
        },
        "transforms": [
          {
            "pathPattern": "{**catchall}"
          }
        ]
      }
    },
    "clusters": {
      "identity-cluster": {
        "destinations": {
          "destination1": {
            "address": "http://identity-service"
          }
        }
      },
      "product-cluster": {
        "destinations": {
          "destination1": {
            "address": "http://product-service"
          }
        }
      },
      "order-cluster": {
        "destinations": {
          "destination1": {
            "address": "http://order-service"
          }
        }
      },
      "signalr-cluster": {
        "destinations": {
          "destination1": {
            "address": "http://signalr-service"
          }
        }
      }
    }
  }
}