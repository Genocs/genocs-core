{
  "jaeger": {
    "udpHost": "jaeger"
  },
  "messaging": {
    "enabled": true,
    "endpoints": [
      {
        "method": "post",
        "path": "stories-service/stories/async",
        "exchange": "stories",
        "routingKey": "send_story"
      },
      {
        "method": "post",
        "path": "stories-service/stories/{storyId}/rate/async",
        "exchange": "stories",
        "routingKey": "rate_story"
      }
    ]
  },
  "reverseProxy": {
    "routes": {
      "demo-route": {
        "clusterId": "demo-cluster",
        "match": {
          "Path": "demo-service/{**catchall}"
        },
        "transforms": [
          {
            "pathPattern": "{**catchall}"
          }
        ]
      },
      "order-route": {
        "clusterId": "order-cluster",
        "match": {
          "Path": "orders-service/{**catchall}"
        },
        "transforms": [
          {
            "pathPattern": "{**catchall}"
          }
        ]
      },
      "product-route": {
        "clusterId": "product-cluster",
        "match": {
          "Path": "products-service/{**catchall}"
        },
        "transforms": [
          {
            "pathPattern": "{**catchall}"
          }
        ]
      }
    },
    "clusters": {
      "demo-cluster": {
        "destinations": {
          "destination1": {
            "address": "http://localhost:5070"
          }
        }
      },
      "order-cluster": {
        "destinations": {
          "destination1": {
            "address": "http://localhost:5002"
          }
        }
      },
      "product-cluster": {
        "destinations": {
          "destination1": {
            "address": "http://localhost:5003"
          }
        }
      }
    }
  }
}